<ng-menubar></ng-menubar>
<h3>Historico</h3>
<div ng-controller="TableroControlCtrl">
	<!-- Bar diagram -->
	<div class="container">
		<div class="row">
			<nvd3-multi-bar-chart data="exampleData" id="exampleId" height="300" showXAxis="true" showYAxis="true">
			<svg></svg>
		</nvd3-multi-bar-chart>	
	</div>		
</div>
<hr/>
<!-- Filters -->
<h3>Filtros</h3>
<div class="container">
	<div class="row">
		<div class="form-group">
			<label class="control-label" for="year">Año:</label>
			<select required ng-model="selectedYear" class="form-control" name="year" ng-options="year for year in years" ng-change="renderReport()"></select>	
		</div>
		<div class="form-group">
			<label class="control-label" for="businessLines">Línea de negocio:</label>
			<select required ng-model="selectedBusinessLine" class="form-control" name="businessLines" ng-options="businessLine for businessLine in businessLines" ng-change="renderReportByBusinessLine()"></select>
		</div>
	</div>
</div>
<!-- Order income report -->
<hr/>
<h3>Order income report</h3>
<div class="container">
	<div class="row">
		<table class="table table-striped table-bordered table-hover">
			<thead>
				<tr>
					<th>Mes</th>
					<th ng-repeat="s in orderIncomeStates">{{s.name}}</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="o in orderIncomeReport">
					<td>{{o.month}}</td>
					<td>{{o.nueva}}</td>
					<td>{{o.enEvaluacion}}</td>
					<td>{{o.enNegociacion}}</td>
					<td>{{o.cerrada}}</td>
					<td>{{o.ganada}}</td>
					<td>{{o.perdida}}</td>
					<td>{{o.abandonada}}</td>
				</tr>
			</tbody>
		</table>		
	</div>
</div>
<!-- Sales report -->
<hr/>
<h3>Sales report</h3>
<div class="container">
	<div class="row">
		<table class="table table-striped table-bordered table-hover">
			<thead>
				<tr>
					<th>Total Sale</th>
					<th>Mercancía en tránsito</th>
					<th>Mercancía en instalación</th>
					<th>Entrega y facturación</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="r in salesReport">
					<td>{{r.month}}</td>
					<td>{{r.hundred}}</td>
					<td>{{r.fifty}}</td>
					<td>{{r.ten}}</td>
				</tr>			
			</tbody>
		</table>		
	</div>
</div>
